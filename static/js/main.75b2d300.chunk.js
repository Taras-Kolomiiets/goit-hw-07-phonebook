(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{16:function(e,t,n){e.exports={form:"ContactForm_form__xxriG",label:"ContactForm_label__1JWak",fieldInput:"ContactForm_fieldInput__25OJ2",validatorError:"ContactForm_validatorError__cXPbp"}},196:function(e,t,n){},197:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(33),r=n.n(o),s=n(6),i=n(8),l=(n(95),n(38)),u=n(19),d=n(50),b=n(84),j=n(79),m=n.n(j),h=n(2),p=["type","onClick","disabled","children"],O=function(e){var t=e.type,n=void 0===t?"button":t,a=e.onClick,c=e.disabled,o=void 0!==c&&c,r=e.children,s=Object(b.a)(e,p);return Object(h.jsx)("button",Object(d.a)(Object(d.a)({type:n,className:m.a.button,disabled:o,onClick:a},s),{},{children:r}))},f=n(16),x=n.n(f),_=n(80),v=n(7),C=Object(_.a)({reducerPath:"contactsApi",baseQuery:Object(v.d)({baseUrl:"https://61ac9aa5d228a9001703ab59.mockapi.io"}),tagTypes:["Contact"],endpoints:function(e){return{getContacts:e.query({query:function(e){return"contacts?sortBy=name&name=".concat(e)},providesTags:["Contact"]}),deleteContact:e.mutation({query:function(e){return{url:"/contacts/".concat(e),method:"DELETE"}},invalidatesTags:["Contact"]}),createContact:e.mutation({query:function(e){return{url:"/contacts",method:"POST",body:e}},invalidatesTags:["Contact"]})}}}),y=C.useGetContactsQuery,N=C.useDeleteContactMutation,g=C.useCreateContactMutation;function k(e){var t=e.contacts,n=g(),a=Object(i.a)(n,1)[0],c=function(e){var n=e.name,c=e.phone;(function(e){return e=e.toLowerCase(),t.filter((function(t){return t.name.toLowerCase().includes(e)})).length>0})(n)?alert("".concat(n," is already in contacts")):a({name:n,phone:c})};return Object(h.jsxs)("div",{children:[Object(h.jsx)(u.d,{initialValues:{name:"",phone:""},validationSchema:l.a({name:l.b().required().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name can contain only letters, ', - and space."),phone:l.b().required().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number should contain only numbers and it also could contain spaces, dash, parenthesis and starts with +")}),onSubmit:function(e,t){var n=t.resetForm;c(e),n()},children:Object(h.jsxs)(u.c,{className:x.a.form,children:[Object(h.jsxs)("label",{className:x.a.label,children:["Name:",Object(h.jsx)(u.b,{className:x.a.fieldInput,name:"name",type:"text",placeholder:"enter your name"}),Object(h.jsx)(u.a,{name:"name",component:"span",className:x.a.validatorError})]}),Object(h.jsxs)("label",{className:x.a.label,children:["Phone number:",Object(h.jsx)(u.b,{className:x.a.fieldInput,name:"phone",type:"tel",placeholder:"enter your phone number"}),Object(h.jsx)(u.a,{name:"phone",component:"span",className:x.a.validatorError})]}),Object(h.jsx)(O,{type:"submit",children:"Add contact"})]})}),Object(h.jsx)("hr",{})]})}var w=n(83),P=n(26),E=n.n(P);function F(e){var t=e.contacts,n=e.onDelete;return Object(h.jsx)("ul",{className:E.a.list,children:t.map((function(e){var t=e.id,a=e.name,c=e.phone;return Object(h.jsxs)("li",{className:E.a.item,children:[Object(h.jsx)("span",{className:E.a.itemName,children:a}),Object(h.jsx)("span",{className:E.a.itemPhone,children:c}),Object(h.jsx)(O,{onClick:function(){return n(t)},"aria-label":"Delete contact",children:Object(h.jsx)(w.a,{size:"18"})})]},t)}))})}var I=n(81),q=n.n(I);function L(e){var t=e.filterContacts,n=Object(a.useState)(""),c=Object(i.a)(n,2),o=c[0],r=c[1];Object(a.useEffect)((function(){t(o)}),[o,t]);return Object(h.jsx)("div",{children:Object(h.jsxs)("label",{children:["Find contacts by name:",Object(h.jsx)("input",{type:"text",name:"filter",value:o,onChange:function(e){r(e.target.value)},className:q.a.fieldInput})]})})}function T(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],o=y(n).data,r=N(),s=Object(i.a)(r,1)[0];return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("h1",{children:"Phonebook"}),Object(h.jsx)(k,{contacts:o}),Object(h.jsx)("h2",{children:"Contacts"}),Object(h.jsx)(L,{filterContacts:function(e){c(e)}}),o&&Object(h.jsx)(F,{contacts:o,onDelete:s})]})}var A=n(37),J=n(5),S=n(82),D=n.n(S),Z=n(1),z=[].concat(Object(J.a)(Object(Z.e)()),[D.a,C.middleware]),Q=Object(Z.a)({reducer:Object(A.a)({},C.reducerPath,C.reducer),middleware:z,devTools:!1});n(196);r.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(s.a,{store:Q,children:Object(h.jsx)(T,{})})}),document.getElementById("root"))},26:function(e,t,n){e.exports={list:"ContactList_list__3RYRc",item:"ContactList_item__XVqev",itemName:"ContactList_itemName__2gQRH",itemPhone:"ContactList_itemPhone__1JcWQ"}},79:function(e,t,n){e.exports={button:"FormButton_button__2mwVK"}},81:function(e,t,n){e.exports={fieldInput:"Filter_fieldInput__2ZZ-J"}},95:function(e,t,n){}},[[197,1,2]]]);
//# sourceMappingURL=main.75b2d300.chunk.js.map