(this["webpackJsonpgoit-react-hw-06-phonebook"]=this["webpackJsonpgoit-react-hw-06-phonebook"]||[]).push([[0],{17:function(t,e,n){t.exports={form:"ContactForm_form__1fuOn",label:"ContactForm_label__378f8",fieldInput:"ContactForm_fieldInput__3zV51",validatorError:"ContactForm_validatorError__3ngg1"}},196:function(t,e,n){},197:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),o=n(34),r=n.n(o),s=n(7),i=n(9),l=(n(95),n(38)),u=n(20),d=n(50),b=n(84),j=n(79),m=n.n(j),p=n(2),h=["type","onClick","disabled","children"],O=function(t){var e=t.type,n=void 0===e?"button":e,a=t.onClick,c=t.disabled,o=void 0!==c&&c,r=t.children,s=Object(b.a)(t,h);return Object(p.jsx)("button",Object(d.a)(Object(d.a)({type:n,className:m.a.button,disabled:o,onClick:a},s),{},{children:r}))},f=n(17),x=n.n(f),y=n(80),_=n(8),v=Object(y.a)({reducerPath:"contactsApi",baseQuery:Object(_.d)({baseUrl:"https://61ac9aa5d228a9001703ab59.mockapi.io"}),tagTypes:["Contact"],endpoints:function(t){return{getContacts:t.query({query:function(t){return"contacts?sortBy=name&name=".concat(t)},providesTags:["Contact"]}),deleteContact:t.mutation({query:function(t){return{url:"/contacts/".concat(t),method:"DELETE"}},invalidatesTags:["Contact"]}),createContact:t.mutation({query:function(t){return{url:"/contacts",method:"POST",body:t}},invalidatesTags:["Contact"]})}}}),C=v.useGetContactsQuery,N=v.useDeleteContactMutation,g=v.useCreateContactMutation;function F(t){var e=t.contacts,n=g(),a=Object(i.a)(n,1)[0],c=function(t){var n=t.name,c=t.phone;(function(t){return t=t.toLowerCase(),e.filter((function(e){return e.name.toLowerCase().includes(t)})).length>0})(n)?alert("".concat(n," is already in contacts")):a({name:n,phone:c})};return Object(p.jsxs)("div",{children:[Object(p.jsx)(u.d,{initialValues:{name:"",phone:""},validationSchema:l.a({name:l.b().required().matches(/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/,"Name can contain only letters, ', - and space."),phone:l.b().required().matches(/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/,"Phone number should contain only numbers and it also could contain spaces, dash, parenthesis and starts with +")}),onSubmit:function(t,e){var n=e.resetForm;c(t),n()},children:Object(p.jsxs)(u.c,{className:x.a.form,children:[Object(p.jsxs)("label",{className:x.a.label,children:["Name:",Object(p.jsx)(u.b,{className:x.a.fieldInput,name:"name",type:"text",placeholder:"enter your name"}),Object(p.jsx)(u.a,{name:"name",component:"span",className:x.a.validatorError})]}),Object(p.jsxs)("label",{className:x.a.label,children:["Phone number:",Object(p.jsx)(u.b,{className:x.a.fieldInput,name:"phone",type:"tel",placeholder:"enter your phone number"}),Object(p.jsx)(u.a,{name:"phone",component:"span",className:x.a.validatorError})]}),Object(p.jsx)(O,{type:"submit",children:"Add contact"})]})}),Object(p.jsx)("hr",{})]})}var k=n(83),w=n(27),E=n.n(w);function P(t){var e=t.contacts,n=t.onDelete;return Object(p.jsx)("ul",{className:E.a.list,children:e.map((function(t){var e=t.id,a=t.name,c=t.phone;return Object(p.jsxs)("li",{className:E.a.item,children:[Object(p.jsx)("span",{className:E.a.itemName,children:a}),Object(p.jsx)("span",{className:E.a.itemPhone,children:c}),Object(p.jsx)(O,{onClick:function(){return n(e)},"aria-label":"Delete contact",children:Object(p.jsx)(k.a,{size:"18"})})]},e)}))})}var I=n(81),T=n.n(I);function A(t){var e=t.applyFilter,n=Object(a.useState)(""),c=Object(i.a)(n,2),o=c[0],r=c[1];Object(a.useEffect)((function(){e(o)}),[o,e]);return Object(p.jsx)("div",{children:Object(p.jsxs)("label",{children:["Find contacts by name:",Object(p.jsx)("input",{type:"text",name:"filter",value:o,onChange:function(t){r(t.target.value)},className:T.a.fieldInput})]})})}function L(){var t=Object(a.useState)(""),e=Object(i.a)(t,2),n=e[0],c=e[1],o=C(n).data,r=N(),s=Object(i.a)(r,1)[0];return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("h1",{children:"Phonebook"}),Object(p.jsx)(F,{contacts:o}),Object(p.jsx)("h2",{children:"Contacts"}),Object(p.jsx)(A,{applyFilter:function(t){c(t)}}),o&&Object(p.jsx)(P,{contacts:o,onDelete:s})]})}var S,q=n(16),z=n(5),D=n(82),B=n.n(D),Z=n(1),M=n(199),G=Object(Z.b)("contacts/add",(function(t,e){return{payload:{id:Object(M.a)(),name:t,phoneNumber:e}}})),J=Object(Z.b)("contacts/delete"),Q=Object(Z.b)("contacts/changeFilter"),V=n(6),K=Object(Z.d)([],(S={},Object(q.a)(S,G.type,(function(t,e){return[e.payload].concat(Object(z.a)(t))})),Object(q.a)(S,J.type,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),S)),R=Object(Z.d)("",Object(q.a)({},Q.type,(function(t,e){return e.payload}))),U=Object(V.b)({items:K,filter:R}),Y=[].concat(Object(z.a)(Object(Z.f)()),[B.a,v.middleware]),$=Object(Z.a)({reducer:Object(q.a)({contacts:U},v.reducerPath,v.reducer),middleware:Y,devTools:!1});n(196);r.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(s.a,{store:$,children:Object(p.jsx)(L,{})})}),document.getElementById("root"))},27:function(t,e,n){t.exports={list:"ContactList_list__2T7aG",item:"ContactList_item__3YsZK",itemName:"ContactList_itemName__3linx",itemPhone:"ContactList_itemPhone__2aABR"}},79:function(t,e,n){t.exports={button:"FormButton_button__2-gNS"}},81:function(t,e,n){t.exports={fieldInput:"Filter_fieldInput__1at_C"}},95:function(t,e,n){}},[[197,1,2]]]);
//# sourceMappingURL=main.4c6d39e4.chunk.js.map